<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="google-signin-client_id"
        content="1001337791389-6ege8sgdvjmrhemv0nk7r6bnl781e2i4.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script type="text/javascript" src="testingapi.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        $(document).ready(function() {
          $("#btn").click(function() {
            var url = "https://disease.sh/v3/covid-19/all";
            $.get(url, function(data) {
              $("#result").text(JSON.stringify(data, null, 2));
            });
          });
        });
      });
    </script>

</head>

<body>
    <h1>This is a great site</h1>
    <p>
        <a href="Secondpage.html">Click here</a>
    </p>

    <h1>Get Weather</h1>
    <button onclick="getWeather()">Get Weather</button>
    <p id="weather"></p>

    <script>
      function getWeather() {
        // replace YOUR_API_KEY with your actual API key
        const apiKey = 'kGNyWQ9e1ASq0BGTVXtrqHcEpRaRIAcW';
        const locationKey = '2089870'; // replace LOCATION_KEY with the actual location key
        const apiUrl = `https://dataservice.accuweather.com/currentconditions/v1/${locationKey}?apikey=${apiKey}`;

        fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const weatherInfo = data[0];
          const temperature = weatherInfo.Temperature.Imperial.Value;
          const weatherText = weatherInfo.WeatherText;

          const weatherInfoElement = document.getElementById('weather-info');
          weatherInfoElement.textContent = `The temperature is ${temperature} degrees Fahrenheit and the weather is ${weatherText}.`;
        })
        .catch(error => console.error(error));
      }
    </script>
    <button type="button" id="redirectButton">Click me</button>

    <div class="g-signin2" data-onsuccess="onSignIn"></div>

    <a href="#" onclick="signOut();">Sign out</a>
    <script>
        function signOut() {
            if (typeof gapi !== 'undefined') {
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                    console.log('User signed out.');
                });
            } else {
                console.log('Google API library not loaded.');
            }
        }

    </script>

</body>

</html>
